function pausing(e){progress_char+=e.utterance.text.charAt(e.charIndex)}function speechButtonAction(e){for(var t=e.target;t&&"button"!=t.nodeName.toLowerCase();)t=t.parentNode;if(t.disabled)return!1;switch(t.getAttribute("aria-label").toLowerCase()){case"play":speaking?window.speechSynthesis.resume():(speaking=!0,window.speechSynthesis.speak(speech)),toggleButtons();break;case"pause":window.speechSynthesis.pause(),toggleButtons();break;case"faster":adjustRate(.3);break;case"slower":adjustRate(-.3)}}function adjustRate(e){$faster.disabled=!1,$slower.disabled=!1,rate+=e,rate=Math.round(10*rate)/10,rate>10?(rate=10,$faster.disabled=!0):.1>rate&&(rate=.1,$slower.disabled=!0),speech.rate=rate,$speed_value.value=rate+"Ã—",window.speechSynthesis.speak(speech)}function toggleButtons(){$play.disabled===!1?($play.disabled=!0,$pause.disabled=!1,$faster.disabled=!1,$slower.disabled=!1):($play.disabled=!1,$pause.disabled=!0,$faster.disabled=!0,$slower.disabled=!0)}if(function(e,t){function n(){v=t.createElement("a"),v.className=w,v.innerHTML=E}function r(){var e=t.createElement("div");g=t.createElement("textarea"),e.style="position: fixed; left: 0px; top: 0px; width: 0px; height: 0px; z-index: 100; opacity: 0;",g.style="width: 1px; height: 1px; padding: 0px;",e.appendChild(g),y.appendChild(e),e=null}function o(e){g||r(),g.innerText=e,g.select();try{return t.execCommand("copy")}catch(n){return!1}}function a(e){var t=f.querySelector("."+$+"__alert");t.innerHTML=e,C(t.innerText),t.classList.add($+"__alert--fading"),setTimeout(i,k)}function i(){var e=f.querySelector("."+$+"__alert");e.innerHTML="",e.classList.remove($+"__alert--fading"),f=!1}function s(e){"13"==e.which&&(N=!0,c(e))}function c(e){e.screenX||e.screenY||(N=!0);for(var t,n=e.target;"a"!=n.nodeName.toLowerCase();)n=n.parentNode;n.throttled||(n.throttled=!0,setTimeout(function(){n.throttled=!1},500),f=n,t=0==n.href.indexOf("#")?b+n.href:n.href,o(t)&&(e.preventDefault(),a(S)),N&&n.focus(),N=!1)}function l(){var e,t;for(h=p.length;h--;)e=p[h],e.classList.add($),t=v.cloneNode(!0),t.href="#"+e.id,t.addEventListener("touchdown",c,!1),t.addEventListener("click",c,!1),t.addEventListener("keypress",s,!1),e.appendChild(t);element=null}function d(){n(),l()}function u(){var e;for(h=p.length;h--;)$a=p[h].querySelector("a."+w),$a.removeEventListener("touchdown",c,!1),$a.removeEventListener("click",c,!1),$a.removeEventListener("keypress",s,!1);e=null,p=null,v=null,$alert=null,g=null}if(!1 in t)return!1;var p,h,f,v,g,m="h1 h2 h3 h4 h5 h6 figure .gist".split(" "),b=e.location.href,y=t.body,$="anchorable",w=$+"__anchor",A='<svg xmlns="http://www.w3.org/2000/svg" class="'+$+'__icon" width="15" height="15" viewBox="0 0 8 8"><path d="M5.88.03c-.18.01-.36.03-.53.09-.27.1-.53.25-.75.47a.5.5 0 1 0 .69.69c.11-.11.24-.17.38-.22.35-.12.78-.07 1.06.22.39.39.39 1.04 0 1.44l-1.5 1.5c-.44.44-.8.48-1.06.47-.26-.01-.41-.13-.41-.13a.5.5 0 1 0-.5.88s.34.22.84.25c.5.03 1.2-.16 1.81-.78l1.5-1.5c.78-.78.78-2.04 0-2.81-.28-.28-.61-.45-.97-.53-.18-.04-.38-.04-.56-.03zm-2 2.31c-.5-.02-1.19.15-1.78.75l-1.5 1.5c-.78.78-.78 2.04 0 2.81.56.56 1.36.72 2.06.47.27-.1.53-.25.75-.47a.5.5 0 1 0-.69-.69c-.11.11-.24.17-.38.22-.35.12-.78.07-1.06-.22-.39-.39-.39-1.04 0-1.44l1.5-1.5c.4-.4.75-.45 1.03-.44.28.01.47.09.47.09a.5.5 0 1 0 .44-.88s-.34-.2-.84-.22z"/></svg>',L='<b class="'+w+'__text">Click to get a link to this exact spot.</b>',_='<strong aria-live="assertive" class="'+$+'__alert"></strong>',E=A+L+_,k=2e3,S='<b class="hidden">The link was </b>copied<b class="hidden"> to your clipboard.</b>',x="speechSynthesis"in e,C=function(){},N=!1;for(h=m.length;h--;)m[h]="main "+m[h]+"[id]";m=m.join(", "),p=t.querySelectorAll(m),h=p.length,h&&(x&&(C=function(t){var t=new SpeechSynthesisUtterance(t);e.speechSynthesis.speak(t)}),d(),e.addEventListener("unload",u,!1))}(this,this.document),function(e){if(e.indexOf("debug=1")>-1)for(var t=document.querySelectorAll("link[rel=stylesheet]"),n=t.length;n--;)t[n].href=t[n].href.replace(".min","")}(window.location.search),function(e,t){"use strict";function n(){e.watchResize(function(){var e,t=r.getAttribute("style");r.style.overflow="hidden",e=r.offsetHeight,t?r.style=t:r.removeAttribute("style")})}var r=t.getElementsByTagName("body")[0];e.getActiveMQ=function(){var n=t.createElement("div"),o=e.getComputedStyle,a=/['"]/g;return n.setAttribute("id","getActiveMQ-watcher"),n.style.display="none",r.appendChild(n),"currentStyle"in n?e.getActiveMQ=function(){return n.currentStyle.fontFamily.replace(a,"")}:o?e.getActiveMQ=function(){return o(n,null).getPropertyValue("font-family").replace(a,"")}:e.getActiveMQ=function(){return"unknown"},e.getActiveMQ()},e.watchResize=function(t){function n(){o&&(clearTimeout(o),o=null),o=setTimeout(r,50)}function r(){clearTimeout(o),o=null,t()}var o;e.addEventListener("resize",n,!1),e.addEventListener("load",t,!1)},e.addEventListener("load",n,!1)}(this,this.document),function(e,t){"use strict";function n(e){e.preventDefault();for(var t=e.target,n=a.cloneNode(!0);"a"!=t.nodeName.toLowerCase();)t=t.parentNode;return n.setAttribute("src",t.getAttribute("data-lazy-video-src")),t.parentNode.replaceChild(n,t),t=null,n=null,!1}if("querySelectorAll"in t){var r=t.querySelectorAll("a[data-lazy-video-src]"),o=r.length,a=t.createElement("iframe");if(o>0)for(a.className="video-embed__video",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","");o--;)"AG"in e&&"preconnect"in e.AG&&e.AG.preconnect(r[o].getAttribute("data-lazy-video-src")),r[o].addEventListener("click",n,!1),r[o].addEventListener("touchdown",n,!1);r=null}}(this,this.document),function(e){"use strict";if("Promise"in e){var t=new Promise(function(t,n){var r=setInterval(function(){"AG"in e&&"preconnect"in e.AG&&(clearInterval(r),t("preconnect available"))},50)});t.then(function(){e.AG.preconnect("//www.google-analytics.com"),e.AG.prefetch("//www.google-analytics.com/analytics.js"),e.AG.preconnect("//use.typekit.net"),e.AG.prefetch("//use.typekit.net/jje3afr.js"),e.AG.preconnect("//gist.github.com"),e.AG.preconnect("//assets-cdn.github.com"),e.AG.preconnect("https://images1-focus-opensocial.googleusercontent.com")})}}(window),function(e){"serviceWorker"in e&&e.serviceWorker.register("/serviceworker.min.js")}(this.navigator),function(e,t){"use strict";function n(e){var n=t.createElement("a");return n.href=e,e=n.protocol?n.protocol+"//"+n.host+n.pathname+n.search+n.hash:!1,n=null,e}function r(e){var n,r=t.createElement("a");return r.href=e,n=r.protocol?r.protocol+"//"+r.host:!1,r=null,n}function o(e){if(a()){var t=e+"/amp_preconnect_polyfill?"+Math.random(),n=new XMLHttpRequest;n.open("HEAD",t,!0),n.send()}}function a(){return/Safari/i.test(e.navigator.userAgent)&&!i()}function i(){return/Chrome|CriOS/i.test(e.navigator.userAgent)}"AG"in e||(e.AG={});var s={},c={},l=t.head,d=t.createElement("link");e.AG.preconnect=function(e){var t=r(e);if(t&&!s[t]){s[t]=!0;var n=d.cloneNode(!0),a=d.cloneNode(!0);n.setAttribute("rel","dns-prefetch"),n.setAttribute("href",t),a.setAttribute("rel","preconnect"),a.setAttribute("href",t),l.appendChild(n),l.appendChild(a),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),a.parentNode&&a.parentNode.removeChild(a),n=null,a=null},1e4),o(t)}},e.AG.prefetch=function(e){if(e=n(e),e&&!c[e]){c[e]=!0;var t=d.cloneNode(!0);t.setAttribute("rel","prefetch"),t.setAttribute("href",e),l.appendChild(t)}}}(this,this.document),function(e,t){"use strict";function n(e){return i?!1:(i=!0,e.preventDefault(),a.classList.add("toggleable--open"),void a.querySelector("[type=search]").focus())}function r(t){if(!i)return!1;i=!1;var n=t.target.nodeName.toLowerCase();return"button"==n||"input"==n?!1:(t.preventDefault(),e.location.hash="#",a.classList.remove("toggleable--open"),void o.focus())}if("querySelector"in t&&"classList"in t.body){var o=t.querySelector(".main-navigation__link--search"),a=t.querySelector(".form--search"),i="#search"==e.location.hash;a.classList.add("toggleable"),a.addEventListener("click",r,!1),a.addEventListener("touchdown",r,!1),o.addEventListener("click",n,!1),o.addEventListener("touchdown",n,!1),e.addEventListener("pageshow",function(t){i="#search"==e.location.hash})}}(this,this.document),"speechSynthesis"in window){var speech=new SpeechSynthesisUtterance,rate=1.4,speaking=!1,text,progress_char=0,$content=document.querySelector("main").cloneNode(!0),$space=$content.querySelectorAll("pre"),$pause_before=$content.querySelectorAll("h2, h3, h4, h5, h6, p, li, dt, blockquote, pre, figure, footer"),$skip=$content.querySelectorAll(".anchorable__anchor, aside, .dont_read"),$controls=document.createElement("div"),$intro=document.createElement("p"),$button=document.createElement("button"),$buttons=$intro.cloneNode(!0),$play,$pause,$faster,$slower,$speed=$intro.cloneNode(!0),$speed_value;$skip.forEach(function(e){e.innerHTML=""}),$space.forEach(function(e){e.innerHTML=" "+e.innerHTML.replace(/[\r\n\t]/g," ")+" "}),$pause_before.forEach(function(e){e.innerHTML=" , "+e.innerHTML}),text=$content.textContent,speech.text=text,$controls.classList.add("media-controls"),$controls.addEventListener("click",speechButtonAction,!1),$intro.innerHTML="Would you prefer to have this post read to you?",$controls.appendChild($intro),$buttons.classList.add("media-controls__buttons"),$button.classList.add("media-controls__button"),$play=$button.cloneNode("true"),$play.classList.add("media-controls__button--play"),$play.setAttribute("aria-label","Play"),$buttons.appendChild($play),$button.disabled=!0,$pause=$button.cloneNode("true"),$pause.classList.add("media-controls__button--pause"),$pause.setAttribute("aria-label","Pause"),$buttons.appendChild($pause),$controls.appendChild($buttons),document.querySelector(".entry__meta").appendChild($controls)}